---
import { getCollection } from 'astro:content';
import { marked } from 'marked';
import { FeaturesCarousel } from './FeaturesCarousel';

const featuresEntries = await getCollection('features');
const features = featuresEntries.map((entry) => ({
  id: entry.id,
  title: entry.data.title,
  bodyHtml: marked(entry.body ?? '', { async: false }),
}));
---

<section class="container mx-auto px-4 py-16">
  <h2 class="text-3xl font-bold text-center mb-12">Features</h2>
  <FeaturesCarousel features={features} client:load />
</section>
